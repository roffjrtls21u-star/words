<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="AI가 생성하는 재미있는 퀴즈 게임 - 국기, 수도, 수학, 상식 퀴즈">
  <title>🎮 퀴즈 월드컵</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <!-- 설정 버튼 -->
  <button id="settings-btn" class="settings-btn" onclick="openSettings()" style="display: none;">⚙️</button>

  <div class="container">

    <!-- ===== API 키 입력 화면 ===== -->
    <div id="api-screen" class="screen active">
      <div class="card">
        <div class="api-icon">🔑</div>
        <h1 class="title">퀴즈 월드컵</h1>
        <p class="subtitle">AI가 생성하는 재미있는 퀴즈!</p>

        <div class="input-group">
          <label for="api-key-input">Gemini API 키</label>
          <input type="password" id="api-key-input" placeholder="API 키를 입력하세요">
        </div>

        <button class="btn btn-primary" onclick="saveApiKey()">
          🚀 시작하기
        </button>

        <p style="margin-top: 20px; text-align: center; font-size: 13px; color: #94a3b8;">
          <a href="https://aistudio.google.com/apikey" target="_blank" style="color: #6366f1;">
            Google AI Studio에서 API 키 발급받기 →
          </a>
        </p>
      </div>
    </div>

    <!-- ===== 메인 메뉴 화면 ===== -->
    <div id="menu-screen" class="screen">
      <div class="card">
        <div class="menu-header">
          <div class="menu-logo">🎮</div>
          <h1 class="title">퀴즈 월드컵</h1>
          <p class="subtitle">게임을 선택하세요!</p>
        </div>

        <div id="game-grid" class="game-grid">
          <!-- JavaScript로 동적 생성 -->
        </div>

        <button class="btn btn-primary" onclick="startGame()">
          ▶️ 게임 시작
        </button>
      </div>
    </div>

    <!-- ===== 퀴즈 화면 ===== -->
    <div id="quiz-screen" class="screen">
      <div class="card">
        <!-- 로딩 -->
        <div id="loading" class="loading" style="display: none;">
          <div class="spinner"></div>
          <p class="loading-text">AI가 문제를 만들고 있어요...</p>
        </div>

        <!-- 퀴즈 내용 -->
        <div id="quiz-content">
          <div class="quiz-header">
            <div class="score-badge">
              ⭐ 점수: <span id="score-value">0</span>
            </div>
            <div class="progress-badge">
              <span id="progress-value">1 / 5</span>
            </div>
          </div>

          <div class="question-box">
            <span id="question-type" class="question-type">🚩 국기 퀴즈</span>
            <h2 id="question-text" class="question-text">문제가 여기에 표시됩니다</h2>
            <img id="flag-image" class="flag-image" src="" alt="국기" style="display: none;">
          </div>

          <div id="options-grid" class="options-grid">
            <!-- JavaScript로 동적 생성 -->
          </div>
        </div>
      </div>
    </div>

    <!-- ===== 결과 화면 ===== -->
    <div id="result-screen" class="screen">
      <div class="card">
        <div id="result-icon" class="result-icon">🏆</div>
        <h1 class="result-title">퀴즈 완료!</h1>

        <div class="score-display">
          <p class="score-label">최종 점수</p>
          <p id="result-score" class="score-value">5 / 5</p>
        </div>

        <p id="result-message" class="result-message">완벽해요! 퀴즈 천재!</p>

        <div class="btn-group">
          <button class="btn btn-primary" onclick="playAgain()">
            🔄 다시 하기
          </button>
          <button class="btn btn-secondary" onclick="goToMenu()">
            🏠 메뉴로
          </button>
        </div>
      </div>
    </div>

  </div>

  <!-- 피드백 오버레이 -->
  <div id="feedback-overlay" class="feedback-overlay" style="display: none;">
    <div class="feedback-card">
      <div id="feedback-icon" class="feedback-icon">🎉</div>
      <p id="feedback-text" class="feedback-text">정답이에요!</p>
      <p id="feedback-answer" class="feedback-answer"></p>
    </div>
  </div>

  <script src="app.js"></script>
</body>

</html>